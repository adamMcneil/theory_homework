\documentclass{article}
\usepackage[pdf]{graphviz}
\usepackage{graphviz}
\usepackage{amsmath}


\begin{document}

CS5200 Homework 4 Graphs\\
Adam McNeil\\
Question 1 \\

\digraph[scale=0.4]{questionone}{
    node [shape=circle]
    A -> B [label=4]
    A -> C [label=1]
    C -> B [label=-5]
    C -> E [label=2]
    D -> C [label=6]
    E -> A [label=3]
    E -> B [label=4]
    E -> D [label=-4]
    }\\
D(0) = 
\begin{tabular}{ c | c | c | c | c | c }        
    
    & A & B & C & D & E \\ 
    \hline
  A & 0 & 4 & 1 & $\infty$ & $\infty$ \\  
    \hline
  B & $\infty$ & 0 & $\infty$ & $\infty$ & $\infty$ \\
    \hline
  C & $\infty$ & -5 & 0 & $\infty$ & 2 \\
    \hline
  D & $\infty$ & $\infty$ & 6 & 0 & $\infty$ \\     
    \hline
  E & 3 & 4 & $\infty$ & -4 & 0 \\

\end{tabular}
${\pi}$(0) =
\begin{tabular}{ c | c | c | c | c | c }        
    
    & A & B & C & D & E \\ 
    \hline
  A & nil & A & A & nil & nil \\  
    \hline
  B & nil & nil & nil & nil & nil \\
    \hline
  C & nil & C & nil & nil & C \\
    \hline
  D & nil & nil & D & nil & nil \\     
    \hline
  E & E & E & nil & E & nil \\

\end{tabular}\\

D(1) = 
\begin{tabular}{ c | c | c | c | c | c }        
    
    & A & B & C & D & E \\ 
    \hline
  A & 0 & 4 & 1 & $\infty$ & $\infty$ \\  
    \hline
  B & $\infty$ & 0 & $\infty$ & $\infty$ & $\infty$ \\
    \hline
  C & $\infty$ & -5 & 0 & $\infty$ & 2 \\
    \hline
  D & $\infty$ & $\infty$ & 6 & 0 & $\infty$ \\     
    \hline
  E & 3 & 4 & 4 & -4 & 0 \\

\end{tabular}
${\pi}$(1) =
\begin{tabular}{ c | c | c | c | c | c }        
    
    & A & B & C & D & E \\ 
    \hline
  A & nil & A & A & nil & nil \\  
    \hline
  B & nil & nil & nil & nil & nil \\
    \hline
  C & nil & C & nil & nil & C \\
    \hline
  D & nil & nil & D & nil & nil \\     
    \hline
  E & E & E & A & E & nil \\

\end{tabular}\\

D(2) = 
\begin{tabular}{ c | c | c | c | c | c }        
    
    & A & B & C & D & E \\ 
    \hline
  A & 0 & 4 & 1 & $\infty$ & $\infty$ \\  
    \hline
  B & $\infty$ & 0 & $\infty$ & $\infty$ & $\infty$ \\
    \hline
  C & $\infty$ & -5 & 0 & $\infty$ & 2 \\
    \hline
  D & $\infty$ & $\infty$ & 6 & 0 & $\infty$ \\     
    \hline
  E & 3 & 4 & 4 & -4 & 0 \\

\end{tabular}
${\pi}$(2) =
\begin{tabular}{ c | c | c | c | c | c }        
    
    & A & B & C & D & E \\ 
    \hline
  A & nil & A & A & nil & nil \\  
    \hline
  B & nil & nil & nil & nil & nil \\
    \hline
  C & nil & C & nil & nil & C \\
    \hline
  D & nil & nil & D & nil & nil \\     
    \hline
  E & E & E & A & E & nil \\

\end{tabular}\\

D(3) = 
\begin{tabular}{ c | c | c | c | c | c }        
    
    & A & B & C & D & E \\ 
    \hline
  A & 0 & -4 & 1 & $\infty$ & 3 \\  
    \hline
  B & $\infty$ & 0 & $\infty$ & $\infty$ & $\infty$ \\
    \hline
  C & $\infty$ & -5 & 0 & $\infty$ & 2 \\
    \hline
  D & $\infty$ & 1 & 6 & 0 & 8 \\     
    \hline
  E & 3 & -1 & 4 & -4 & 0 \\

\end{tabular}
${\pi}$(3) =
\begin{tabular}{ c | c | c | c | c | c }        
    
    & A & B & C & D & E \\ 
    \hline
  A & nil & C & A & nil & C \\  
    \hline
  B & nil & nil & nil & nil & nil \\
    \hline
  C & nil & C & nil & nil & C \\
    \hline
  D & nil & C & D & nil & C \\     
    \hline
  E & E & C & A & E & nil \\

\end{tabular}\\

D(4) = 
\begin{tabular}{ c | c | c | c | c | c }        
    
    & A & B & C & D & E \\ 
    \hline
  A & 0 & -4 & 1 & $\infty$ & 3 \\  
    \hline
  B & $\infty$ & 0 & $\infty$ & $\infty$ & $\infty$ \\
    \hline
  C & $\infty$ & -5 & 0 & $\infty$ & 2 \\
    \hline
  D & $\infty$ & 1 & 6 & 0 & 8 \\     
    \hline
  E & 3 & -3 & 2 & -4 & 0 \\

\end{tabular}
${\pi}$(4) =
\begin{tabular}{ c | c | c | c | c | c }        
    
    & A & B & C & D & E \\ 
    \hline
  A & nil & C & A & nil & C \\  
    \hline
  B & nil & nil & nil & nil & nil \\
    \hline
  C & nil & C & nil & nil & C \\
    \hline
  D & nil & C & D & nil & C \\     
    \hline
  E & E & D & D & E & nil \\

\end{tabular}\\

D(5) = 
\begin{tabular}{ c | c | c | c | c | c }        
    
    & A & B & C & D & E \\ 
    \hline
  A & 0 & -4 & 1 & -1 & 3 \\  
    \hline
  B & $\infty$ & 0 & $\infty$ & $\infty$ & $\infty$ \\
    \hline
  C & 5 & -5 & 0 & -2 & 2 \\
    \hline
  D & 11 & 1 & 6 & 0 & 8 \\     
    \hline
  E & 3 & -3 & 2 & -4 & 0 \\

\end{tabular}
${\pi}$(5) =
\begin{tabular}{ c | c | c | c | c | c }        
    
    & A & B & C & D & E \\ 
    \hline
  A & nil & C & A & E & C \\  
    \hline
  B & nil & nil & nil & nil & nil \\
    \hline
  C & E & C & nil & E & C \\
    \hline
  D & E & C & D & nil & C \\     
    \hline
  E & E & D & D & E & nil \\

\end{tabular}\\




Question 2\\
\digraph[scale=0.4]{questiontwo}{
    node [shape=circle]
    s -> v1 [label=6]
    s -> v5 [label=10]
    v1 -> v2 [label=4]
    v1 -> v3 [label=4]
    v2 -> t [label=3]
    v3 -> v2 [label=9]
    v3 -> t [label=7]
    v4 -> v3 [label=6]
    v4 -> t [label=2]
    v5 -> v1 [label=3]
    v5 -> v4 [label=6]
    }\\
Step 1\\
\digraph[scale=0.4]{questiontwosteponef}{
  node [shape=circle]
  s [rank=max]
  subgraph path {
    node [color=red]
    edge [color=red, fontcolor=red]
    v1 -> s [label=3]
    v2 -> v1 [label=3]
    t -> v2 [label=3]
    }
    s -> v1 [label="3"]
    v1 -> v2 [label="1"]
    v2 -> t [label="0"]
    
  s -> v5 [label="10"]
  v1 -> v3 [label="4"]
  v3 -> v2 [label="9"]
  v3 -> t [label="7"]
  v4 -> v3 [label="6"]
  v4 -> t [label="2"]
  v5 -> v1 [label="3"]
  v5 -> v4 [label="6"]
  }

\digraph[scale=0.4]{questiontwostepone}{
    node [shape=circle]
    subgraph path {
      node [color=red]
      edge [color=red, fontcolor=red]
      s -> v1 [label="3/6"]
      v1 -> v2 [label="3/4"]
      v2 -> t [label="3/3"]
    }

    s -> v5 [label="0/10"]
    v1 -> v3 [label="0/4"]
    v3 -> v2 [label="0/9"]
    v3 -> t [label="0/7"]
    v4 -> v3 [label="0/6"]
    v4 -> t [label="0/2"]
    v5 -> v1 [label="0/3"]
    v5 -> v4 [label="0/6"]
    }\\
Step 2\\
\digraph[scale=0.4]{questiontwosteptwof}{
  node [shape=circle]
  s [rank=max]
  t [rank=min]
  subgraph path {
    node [color=red]
    edge [color=red, fontcolor=red]
    v1 -> s [label=6]
    v3 -> v1 [label=3]
    t -> v3 [label=3]
    }
    % back edges
    v2 -> v1 [label=3]
    t -> v2 [label=3]
    
    % edges with flow
    s -> v1 [label="0"]
    v1 -> v2 [label="1"]
    v2 -> t [label="0"]
    v1 -> v3 [label="1"]
    v3 -> t [label="4"]

    %edges without flow
  s -> v5 [label="10"]
  v3 -> v2 [label="9"]
  v4 -> v3 [label="6"]
  v4 -> t [label="2"]
  v5 -> v1 [label="3"]
  v5 -> v4 [label="6"]
  }

\digraph[scale=0.4]{questiontwosteptwo}{
    node [shape=circle]
    subgraph path {
      node [color=red]
      edge [color=red, fontcolor=red]
      s -> v1 [label="6/6"]
      v1 -> v3 [label="3/4"]
      v3 -> t [label="3/7"]
      }
      
      s -> v5 [label="0/10"]
      v1 -> v2 [label="3/4"]
      v2 -> t [label="3/3"]
      v3 -> v2 [label="0/9"]
    v4 -> v3 [label="0/6"]
    v4 -> t [label="0/2"]
    v5 -> v1 [label="0/3"]
    v5 -> v4 [label="0/6"]
    }\\
    Step 3\\

    \digraph[scale=0.4]{questiontwostepthreef}{
      node [shape=circle]
      s [rank=max]
      t [rank=min]
      subgraph path {
        node [color=red]
        edge [color=red, fontcolor=red]

        v5 -> s [label=4]
        v4 -> v5 [label=4]
        v3 -> v4 [label=4]
        t -> v3 [label=7]
        }
        % back edges
        v2 -> v1 [label=3]
        t -> v2 [label=3]
        v1 -> s [label=6]
        v3 -> v1 [label=3]
        
        % edges with flow
        s -> v1 [label="0"]
        v1 -> v2 [label="1"]
        v2 -> t [label="0"]
        v1 -> v3 [label="1"]
        v3 -> t [label="7"]
        s -> v5 [label="6"]
        v5 -> v4 [label="2"]
        v4 -> v3 [label="2"]
    
        %edges without flow
      v3 -> v2 [label="9"]
      v4 -> t [label="2"]
      v5 -> v1 [label="3"]
      }

\digraph[scale=0.4]{questiontwostepthree}{
    node [shape=circle]
    subgraph path {
      node [color=red]
      edge [color=red, fontcolor=red]
      s -> v5 [label="4/10"]
      v5 -> v4 [label="4/6"]
      v4 -> v3 [label="4/6"]
      v3 -> t [label="7/7"]
      }
      
      s -> v1 [label="6/6"]
      v1 -> v2 [label="3/4"]
      v1 -> v3 [label="3/4"]
      v2 -> t [label="3/3"]
      v3 -> v2 [label="0/9"]
    v4 -> t [label="0/2"]
    v5 -> v1 [label="0/3"]
    }\\
    Step 4\\

\digraph[scale=0.4]{questiontwostepfourf}{
  node [shape=circle]
  s [rank=max]
  t [rank=min]
  subgraph path {
    node [color=red]
    edge [color=red, fontcolor=red]
    t -> v4 [label=2]
    v4 -> v5 [label=6]
    v5 -> s [label=6]

    }
    % back edges
    v2 -> v1 [label=3]
    t -> v2 [label=3]
    v1 -> s [label=6]
    v3 -> v1 [label=3]
    v3 -> v4 [label=4]
    t -> v3 [label=7]
    
    % edges with flow
    s -> v1 [label="0"]
    v1 -> v2 [label="1"]
    v2 -> t [label="0"]
    v1 -> v3 [label="1"]
    v3 -> t [label="7"]
    s -> v5 [label="4"]
    v5 -> v4 [label="0"]
    v4 -> v3 [label="2"]
    v4 -> t [label="0"]

    %edges without flow
  v3 -> v2 [label="9"]
  v5 -> v1 [label="3"]
  }

\digraph[scale=0.4]{questiontwostepfour}{
    node [shape=circle]
    subgraph path {
      node [color=red]
      edge [color=red, fontcolor=red]
      s -> v5 [label="6/10"]
      v5 -> v4 [label="6/6"]
      v4 -> t [label="2/2"]
      }
      
      s -> v1 [label="6/6"]
      v1 -> v2 [label="3/4"]
      v1 -> v3 [label="3/4"]
      v2 -> t [label="3/3"]
      v3 -> t [label="7/7"]
      v3 -> v2 [label="0/9"]
      v4 -> v3 [label="4/6"]
    v5 -> v1 [label="0/3"]
    }\\



Question 3\\
Strategy A: 5 different paths are needed until the final answer is reached\\
${s -> v1 -> v2 -> t}$\\
${s -> v6 -> v3 -> t}$\\
${s -> v5 -> v4 -> t}$\\
${s -> v1 -> v3 -> t}$\\
${s -> v5 -> v4 -> v3-> t}$\\
\\
Strategy B: 4 different paths are need until the final answer is reached\\
${s -> v5 -> v4 -> v3-> t}$\\
${s -> v1 -> v2 -> t}$\\
${s -> v5 -> v6 -> v3 -> v4 -> t}$\\
${s -> v6 -> v3 -> t}$\\

\digraph[scale=0.4]{questionthree}{
    node [shape=circle]
      s -> v1 [label="6"]
      s -> v2 [label="5"]
      s -> v3 [label="10"]
      v1 -> v2 [label="6"]
      v2 -> t [label="11"]
      v3 -> v2 [label="11"]
      v3 -> t [label="9"]
    }\\



Question 4\\
1) For a given cut (S, T), the net flow from S to T can be greater than capacity of S and T.\\
False\\
2) For any (S, T) cut, if the net flow equals to the capacity of S and T, then we cannot find any augmenting path in the residual graph.\\
True\\
3) The Floyd-Warshall algorithm belongs to the greedy algorithm, as it is more efficient than the dynamic programming solution.\\
False\\
4) The Dijksta's algorithm can be used to find the all-pairs shortest paths in a weighted directed graph, and it is more efficient than some dynamic programming solution.\\
True\\

Bonus:\\
(a) The MaxFlow algorithm is able to correct mistakes that it has made in the past, so by combining the solution from the smaller problem you will get the correct answer.
Since it does not matter what terminal the flow goes to or where the flow comes from, looking at the sources and terminals individual will still give the correct answer as long as the back edges are kept in the graph so the graph is able to correct any mistakes it makes. 
\\
\\
(b) All the sinks can be combined into one sink. 
All the terminals can be combined into one terminal. 
To do this all that needs to be done is to create a new sink node with all the edges of the other sink nodes.
If two sinks had an edge to the same node a new edge can be added with the capacity of the two edges combined.
The same thing can be done with the terminals. 
This reduces the problem to be just one run of MaxFlow instead of n * m runs of MaxFlow.

\end{document}